# Спецификация класса Caesar
Данный класс реализует графический интерфейс программы, а также предоставляет методы для обработки текста (его расшифровки и шифровки методами шифра Цезаря).

## Свойства, которые предоставляет данный класс
### `- QString text`
Текст, который будет обрабатываться во время выполнения методов из логической части программы (обработка информации, взаимодействие с текстом).

### `- int shift`
Количественная характеристика сдвига. Данное значение будет использоваться для шифрования текста методом `- Caesar::EncodeText`.

### `- QString alphabet`
Строковая переменная, которая хранит в себе алфавит, который нужен для шифрования и дешифрования текста.

### `- int alphabetAmountOfLetters`
Свойство, которое хранит количество символов в строке `- QString alphabet`.

### `- float* alphabetFrequency`
Массив, который хранит в себе количественную характеристику описывающую частотут встречаемости определенных символов из строки `- QString alphabet` в тексте (нормализованные значения).

### `- QChar language`

## Методы, которые предоставляет данный класс
### Взаимодействие с `- Caesar::text`
#### `+ SetText(QString text)`
```cpp
/**
 * @brief Сеттер для текста
 * 
 * @param text Текст
 */
void SetText(QString text);
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::text`, которое хранит в себе исходный или обработанный текст.

Данный метод *устанавливает* значение `- Caesar::text` на значение переданное в параметре сеттера.

#### `+ GetText()`
```cpp
/**
 * @brief Геттер для текста
 * 
 * @return QString Текст
 */
QString GetText();
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::text`, которое хранит в себе исходный или обработанный текст.

Данный метод *возвращает* значение `- Caesar::text`.

#### `+ GetUserTextInput()`
```cpp
/**
 * @brief Геттер для текста из поля для ввода (UI)
 * 
 */
void GetUserTextInput();
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::text`, которое хранит в себе исходный или обработанный текст.

Данный метод парсит данные из поля для ввода графического интерфейса.

Поле для ввода имеет идентификатор `plainTextEdit`.

#### `+ SetUserTextOutput()`
```cpp
/**
 * @brief Сеттер для поля для вывода (UI)
 * 
 */
void SetUserTextOutput();
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::text`, которое хранит в себе исходный или обработанный текст.

Данный метод выводит данные из свойства `- Caesar::text` в поле для вывода.

Поле для вывода имеет идентификатор `textBrowser`.

### Взаимодействие с `- int shift`
#### `+ SetShift(int shift)`
```cpp
/**
 * @brief Сеттер значения сдвига
 * 
 * @param shift Значение сдвига
 */
void SetShift(int shift);
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::shift`, которое хранит в себе исходный или обработанный текст.

Данный метод устанавливает значение для `- Caesar::shift` на значение, которое передается в параметре `int shift`.

#### `+ GetShift()`
```cpp
/**
 * @brief Геттер значения сдвига
 * 
 * @return int Значение сдвига
 */
int GetShift();
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::shift`, которое хранит в себе исходный или обработанный текст.

Данный метод возвращает значение `- Caesar::shift`.

#### `+ GetShiftInput()`
```cpp
/**
 * @brief Геттер для поля ввода значения сдвига (UI)
 * 
 */
void GetShiftInput();
```
> Данный метод предоставляет интерфейс для взаимодействия с свойством `- Caesar::shift`, которое хранит в себе исходный или обработанный текст.

Данный метод парсит значение из поля для ввода значения `shift` и устанавливает соответственное значение `- Caesar::shift`.

### Взаимодействие с временными локалями (`- QString alphabet`, `- int alphabetAmountOfLetters`, `- float* alphabetFrequency`, `- QChar language`)

#### `+ SetUpLanguageEnvironment()`
```cpp
/**
 * @brief Устанавливает нужные свойства объекту класса Caesar, которые связаны с
 * языковыми параметрами пользователя.
 * Данные будут использоваться в рабочем окружении логических функций и не будут
 * влиять на внешние языковые параметры
 * 
 */
void SetUpLanguageEnvironment();
```

Данный метод взаимодействует со следующими свойствами класса `Caesar`:
* `- QString alphabet`
* `- int alphabetAmountOfLetters`
* `- float* alphabetFrequency`
* `- QChar language`

Метод устанавливает значение `- QChar language`. Значение устанавливаемое в `- QChar language` парсится из поля для ввода (*радио-кнопка*) `RussianLanguageRadio`.

Так как по умолчанию активна хотя бы одна радио-кнопка, а всего поддерживается 2 языка (*русский, анлийский*) то метод `+ SetUpLanguageEnvironment()` устанавливает значения всех остальных свойств в зависимости от того выбрана ли русская локализация (активна ли радио-кнока русской локали).

### Слоты и логические методы
Слоты являются обычными функциями в C++, однако они не принимают и отдают значений. Слот в данном случае действует как функция-заглушка.

#### Логический метод `+ EncodeText(QString text, int shift)`
```cpp
/**
 * @brief Шифрование текста
 * 
 * @param text Текст для шифрования
 * @param shift Сдвиг
 * @return QString Зашифрованный текст
 */
QString EncodeText(QString text, int shift);
```

Данный метод обрабатывает текст переданный в параметре `Qstring text`. Метод находит индекс каждой буквы `QString text` в массиве `- QString alphabet`, а затем прибавляет значение `int shift`, переданной в параметре метода, после после выполнения операции сложения получается индекс нового **зашифрованного символа**. Таким образом метод шифрует каждый символ `QString text`, который есть в массиве `- QString alphabet`.

#### Слот `+ EncodeTextSlot()`
```cpp
void EncodeTextSlot(); // Функция для взаимодействия с интерфейсом
```
Данный метод оборачивает метод `+ EncodeText(QString text, int shift)`, делая из метода `+ EncodeText(QString text, int shift)` слот.

> Данный метод парсит все значения из полей для ввода, преобразует текст с помощью вышеупомянутого метода и выводит значение в поле для вывода.

#### Логический метод `+ MechanicalDecodeText(QString text)`
```cpp
/**
 * @brief Дешифрование текста
 * 
 * @param text Текст для дешифровки
 * @return QString Множество вариантов дешифровки
 */
QString MechanicalDecodeText(QString text);
```
Данный метод обрабатывает текст переданный в параметр `QString text`. Метод дешифрует текст с помощью вызова `+ EncodeText(QString text, int shift)` множество раз (`- int alphabetAmountOfLetters` - 1) с разными значениями `int shift`, тем самым расшифровывая текст *шифруя его снова и снова*.

#### Логический метод `+ AlgoDecodeText(QString text)`
```cpp
/**
 * @brief Автоматическое дешифрование текста
 * 
 * @param text Текст для дешифровки
 * @return QString Дешифрованный текст
 */
QString AlgoDecodeText(QString text);
```
Данный метод обрабатывает текст переданный в параметр `QString text`. Метод дешифрует текст с помощью частотного анализа текста переданного в параметре `QString text`, а затем сравнивает коэффициенты встречаемости букв с коэффициентами нормальной распределенности символов в эталонном тексте (данные собраны с нескольких текстов).

Алгоритм работы данного метода:
1. Подсчёт коэффициентов частоты встречаемости каждого символа в исходном тексте (*количество встреченного символа / общее количество символов*)
2. Поиск символов с наибольшим разбросом

    Если символ который имеет очень маленький коэффициент в нормализованных коэффициентах имеет слишком большой коэффициент в исходном тексте, то следует найти разность данного символа с символом, который имеет найближайший коэффициент к нормализованному коэффициенту исходного символа.
3. Дешифровка с помощью шифровки на разность коэффициентов исходного и *мнимого исходного* символа.

#### Слот `+ DecodeTextSlot()`
```cpp
void DecodeTextSlot(); // Функция для взаимодействия с интерфейсом
```
Данный метод оборачивает два метода `+ MechanicalDecodeText(QString text)` и `+ AlgoDecodeText(QString text)`, делая из данных методов слот.

> Данный метод парсит все значения из полей для ввода, преобразует текст с помощью вышеупомянутого метода и выводит значение в поле для вывода.

Вышеупомянутые два метода выбираются следующим образом:
* Если на чекбоксе (кнопка с галочкой) "Алгоритмически дешифровать" стоит галочка, то используется метод `+ AlgoDecodeText(QString text)`
* Иначе используется метод `+ MechanicalDecodeText(QString text)`